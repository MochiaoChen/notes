# 第五章 大数据与医学

大数据正在显著地改变医疗保健行业，但其潜能尚未被充分认识。它的价值在包括医疗诊断、流行病预测、衡量公众对政府健康警示的反应，乃至减少与医疗保健体系有关的支出等领域，都有待重新评估。我们从保健信息学开始讨论。

保健信息学

运用前几章中描述的通用技术，可以对医疗大数据进行收集、存储和分析。广义上说，保健信息学及其多个分支学科，如临床信息学和生物信息学，利用大数据改进病人护理和降低成本。我们来看看大数据的定义标准（第二章中已讨论）——数量大、种类多、速度快和准确性，以及这些标准如何适用于医疗数据。例如，通过从社交网站收集与公共卫生相关的数据来跟踪流行病，数量大和速度快这两项都能得到满足；种类多也能达到要求，由于病历是以文本格式保存的，结构化和非结构化的都有，此外，收集的数据还包括如核磁共振提供的传感数据；准确59性是医学应用的基础，需特别小心以便消除不准确数据。

通过从脸书、推特等网站，各种博客、留言板以及网络搜索等收集到的数据，社交媒体成为医疗相关信息的潜在宝贵源泉。关注具体医疗保健问题的留言板随处可见，提供了大量非结构化数据。使用类似于第四章中描述的分类方法，采集脸书和推特上的帖子以监测药物不良反应经历，可以为医疗保健专业人士提供有关药物相互作用和药物滥用的重要信息。采集社交媒体数据用于公共卫生相关研究，现在也是学术界公认的做法。

塞尔莫情报（Sermo Intelligence）是一家全球医疗网站，它自称是“全球最大的保健数据收集者”。像这种面向医学专业人士的社交网站，为保健人士提供了与同事互动的机会，从而产生即时的众包福利。在线医疗咨询网站越来越受欢迎，并将生成更多信息。尽管收集到的庞大的电子病历不能被公开访问，但或许是最重要的信息源。这些病历，通常根据其首字母被称为EHR，它是病人完整病史的电子版，包括诊断、处方用药、医学影像（如X光），以及全程收集的所有其他相关信息。据此可以构建起“虚拟病人”——我们将在本章下文中讨论这一概念。

在使用大数据改进病人护理和降低成本的同时，通过汇集各种在线渠道生成的信息，也使得对新暴发的流行病进程的预测成为可能。

谷歌流感趋势

与许多国家一样，美国每年都会遭受流感袭击，导致医疗资源紧张和许多人失去生命。公共健康监测机构，即美国疾病控60制中心提供的过往流行病数据，加上大数据分析，为研究人员预测疾病的传播，进而实施精准服务和减少疾病的影响提供了强大支撑。

谷歌流感趋势团队是利用搜索引擎数据进行流感预测的先行者。他们感兴趣的是：如何在每年的流感预测时能走在美国疾病控制中心的前面。2009年2月出版的权威科学杂志《科学》上发表了一封信，由六位谷歌软件工程师组成的团队解释了他们正在从事的工作。如果数据能够用来预测每年流感的进程，那么疾病就能得到及时遏制，从而拯救生命并节省医疗资源。为了实现这一目标，谷歌团队的做法是收集和分析与流感相关的搜索引擎查询数据。以往利用在线数据预测流感暴发的尝试要么失败，要么收效甚微。不过，通过学习这些早期的开拓性研究所犯的错误，谷歌和美国疾病控制中心有望能成功利用搜索引擎查询生成的大数据来实现对流行病的跟踪。

美国疾病控制中心与欧洲的类似机构——欧洲流感监督计划（EISS），从各种渠道收集数据，其中包括内科医生报告的类似流感症状的病人数量。核实数据通常需要两周左右的时间，而在此期间，流感又会进一步扩散。运用从互联网上实时收集的数据，由谷歌和美国疾病控制中心组成的团队旨在提高流行病预测的准确性，并且每二十四小时发布一次预测结果。为了做到这一点，从流感相关搜索查询中收集的数据，覆盖从关于流感药方和症状的单个互联网搜索，到诸如打给医疗咨询中心的电话这样的大量数据。谷歌能够利用其从2003年到2008年间的大量搜索查询数据，并通过IP地址能够确定搜索查询的发生61地，从而按照州别对数据进行分组。美国疾病控制中心的数据收集自十个地区，每一地区包含出自数个州的累积数据（例如第九区包括亚利桑那州、加利福尼亚州、夏威夷州以及内华达州），数据最终被集成到模型中。

谷歌流感趋势计划基于如下假设：有关流感的在线搜索数量与去医生诊所的数量高度相关。假如某个特定地区有很多人在线搜索有关流感的信息，那么就可以预测流感病大概率会扩散至邻近区域。由于我们的兴趣是寻找趋势，数据可以是匿名的，因而无须征得个人同意。运用五年来与美国疾病控制中心在同一时段，即流感季节所收集的数据，谷歌对覆盖所有主题的共5000万条最常见的搜索查询逐条统计，并计算出各搜索词每周出现的次数。然后，将这些搜索查询统计结果与美国疾病控制中心的流感数据进行比较，使用相关性最高的数据建构流感趋势模型。谷歌选用了前45个与流感相关的搜索关键词，并进而在人们的搜索查询中进行跟踪。完整的搜索关键词表属于秘密，包括诸如“流感并发症”“流感治疗”“流感一般症状”等。以历史数据为基准，评估搜索关键词与流感活动的相关性，再将新的实时数据与这一数据做比对，这样就建立起了从一级到五级的分类，五级为最严重级别。

在2011—2012年及2012—2013年美国流感季节，谷歌的大数据算法未能成功预测。这一事件引起广泛关注。流感季节结束后，他们将自己的预测与美国疾病控制中心的实际数据做了对照。基于现有数据所建立的模型本该能表征流感趋势，但实62际情况是，谷歌流感趋势算法在其被运用的年份里，对流感病例数量的预测高出了至少50%。模型失灵有多种原因。有些搜索项被刻意排除，只是因为它们与研究团队的预期不符。广为人知的例子是高中篮球，它与流感看似毫不相干，却与美国疾病控制中心的数据高度拟合，但被排除在模型之外。变量选取，即选取最恰当预测项的过程，始终是一个具有挑战性的工作，只有通过优化算法才能避免偏差。谷歌将其算法细节定为秘密，仅透露出高中篮球在搜索关键词表的前100位中，并辩解说将其排除是有理由的，因为流感和篮球在一年中同一时间达到峰值只是虚假相关。

我们已经注意到，谷歌在模型构建中运用了45个搜索项作为流感搜索因子。假如他们仅仅使用一个搜索项，如“流行性感冒”或“流感”，那么诸如“感冒药”之类的所有搜索将被忽略。数量充足的搜索项会提高预测的精准度，但搜索项过多也会降低预测的精度。运用当前数据作为训练数据来构建模型，可以预测未来数据的走向。但是如果预测因子太多，训练数据中那些微不足道的随机病例就会被模型化。如此一来，模型尽管与训练数据非常拟合，却不能很好地进行预测。这种看似自相矛盾的现象，叫作“过拟合”，谷歌团队对此没有充分关注。因其与流感季节巧合而忽略高中篮球还情有可原，但是对于5000万个不同的搜索项来说，数量太过庞大，不可避免地会出现与美国疾病控制中心数据高度相关，而与流感趋势并不相关的搜索项。

类似流感症状的病人去看医生，诊断结论常常不是流感（例如只是普通感冒）。谷歌运用的数据从搜索引擎查询中选取收集而来，由于数据收集出现了偏差，比如将不使用计算机的和使用其他搜索引擎的人排除在外，因而得到的结果并不很科学。63预测结果不佳可能还有另一个原因，在谷歌上搜索“流感症状”的用户很可能浏览过多个与流感相关的网站，导致同一搜索被多次计算，从而使数字被夸大。另外，搜索行为因时而异，特别是在疾病流行期间，这一点也需要予以考虑并定期更新模型。预测中一旦出现错误，就会产生连锁反应。谷歌流感预测中发生的正是这种情况：某一周出现的错误传递至下一周。搜索查询按实际是否发生而被收集和分析，并没有按拼写和措辞进行分组。谷歌自己就有将“流感的症候”“流感症候”“流感之症候”分别计入的先例。

谷歌的这项始于2007—2008年间的工程受到大量批评。这些批评有时并不公正。诟病的主要对象是缺乏透明度，比如拒绝透露全部搜索选项，不愿回应学术界获取信息的请求。搜索引擎查询数据并非精心设计的统计实验产品，如何找到一种方法对这些数据进行有意义的分析以获取有用知识，这是一个全新的和富有挑战性的领域。然而，这也需要合作。2012—2013年的流感季节，谷歌算法发生了重大变化，开始运用一种被称为弹性网络的相对较新的数学技术，此举为选取必要的和减少不必要的预测因子提供了严谨的方法。2011年，谷歌启动了一个跟踪登革热的类似项目，但他们不再发布预测。2015年，谷歌流感趋势被撤销。不过，现在他们开始与学术科研人员分享他们的数据了。

谷歌流感趋势是运用大数据进行流行病预测的早期尝试64之一，它为后来的研究人员提供了灵感。尽管其结果未达预期，但将来有可能开发出新技术，将大数据用于跟踪流行病的潜能充分释放。美国洛斯——阿拉莫斯国家实验室的一群科学家，就运用维基百科的数据做过此类尝试。卡内基·梅隆大学德尔菲研究小组，在美国疾病控制中心“流感预测”的竞赛中拔得头筹——在2014—2015年和2015—2016年两个年度均为最精确的预测者。研究小组运用来自谷歌、推特以及维基百科的数据成功监测了流感的暴发。

西部非洲埃博拉暴发

我们的世界，过去经历过很多流行病。1918—1919年的西班牙流感，死亡人数在2000万到5000万之间，共有大约5亿人感染。由于对病毒知之甚少，没有有效治疗方法，公共卫生响应非常有限——因对疾病不明就里，此是必然。1948年，负责通过全球合作协同监督和改进全球卫生状况的世界卫生组织（WHO）成立，此种窘境才得以改变。2014年8月8日，在国际卫生条例紧急委员会的电视电话会议上，世界卫生组织宣布：西部非洲埃博拉病毒的暴发正式构成了“国际关注的突发公共卫生事件”（PHEIC）。世界卫生组织明确指出，埃博拉的暴发是一个“非常事件”，需要国际社会付出史无前例的努力加以遏制，从而避免疾病的大流行。

2014年西部非洲埃博拉的暴发，主要限于几内亚、塞拉利昂和利比里亚。这与美国每年一度的流感暴发有所不同，因此也提出了一系列不同的问题。埃博拉的历史数据要么无法获得，要么毫无用处，因为此等规模的暴发从未有过记录，制定新的应对策略迫在眉睫。考虑到人口流动数据对公共卫生专业人士监65督流行病的扩散会有帮助，人们认为移动电话公司掌握的信息可以用来跟踪感染区的人员行踪，如果再加上其他措施，例如旅游限制，就可以遏制病毒传播，并最终拯救生命。据此构建的疾病暴发实时模型，会预测出下一个病例很可能会出现的区域，然后再针对性地聚集资源。

从移动手机上可以获取基本的数字信息，如呼叫者和被呼叫者的电话号码、呼叫者的大致方位等。移动手机呼叫都会留下痕迹，根据呼叫使用的发射塔，可以大致判断呼叫者的位置。接触这些数据也产生一些问题：隐私问题首当其冲，电话被追踪的人身份完全暴露，而他们自己对此却一无所知。

在受埃博拉影响的西部非洲国家，移动手机分布密度并不均衡，在贫穷的乡村地区比例最低。例如2013年的时候，在利比里亚和塞拉利昂，拥有手机的家庭刚刚过半，它们是2014年疾病暴发时受到直接影响的两个国家。但即便如此，它们仍然能够提供足够多的数据用于跟踪人口流动情况。

一些重要的移动电话数据交给了弗洛明德基金会。这是一家总部设在瑞典的非营利机构，致力于使用大数据从事面向世界最贫穷国家的公共卫生服务工作。2008年，弗洛明德基金会率先运用移动运营商的数据跟踪医学难以应对的人口流动情况。这是世卫组织消灭疟疾倡议的一部分，于是该基金会就成了应对埃博拉危机的首选机构。另一个著名的国际团队运用重66要的匿名数据，构建了埃博拉感染地区的人口流动地图。由于流行病蔓延期间人们的行为与往日不同，这些数据用途有限，但对于人们遇到紧急情况会倾向去往何地，也给出了强烈的暗示。

移动电话信号塔的记录提供了实时人口活动的详情。

不过，世卫组织发布的埃博拉预测数字比实际记录的病例要高出50%以上。

谷歌流感趋势与埃博拉预测具有类似的不足，即运用的预测算法仅仅基于初始数据，未将动态变化考虑在其中。实际上，这些模型均假定病例数量未来会继续上升，上升速度与医学干预开始之前并无二致。显然，医疗和公共卫生措施会产生预期的正面效果，而这些并没有被融入模型之中。

由伊蚊传播的寨卡病毒于1947年在乌干达被首次记录，此后病毒传播远至亚洲和美洲。最近的寨卡病毒暴发于2015年发生在巴西，它导致了又一起国际关注的突发公共卫生事件。对于大数据统计建模，谷歌流感趋势以及埃博拉暴发期间的工作，已经给了我们很多教训。现在公认的是，数据应该从多种渠道收集。回想一下谷歌流感趋势计划仅从其自身的搜索引擎收集数据吧。

尼泊尔地震

那么，运用大数据进行流行病跟踪的未来前景如何？移动电话通话详细记录具有实时性特征，已经被用于协助监控灾难发生期间的人口流动情况，比如运用于范围广泛的尼泊尔地震区和墨西哥猪流感暴发区域。2015年4月25日，尼泊尔地震发生之后，由弗洛明德基金会牵头，汇集了来自英国的南安普敦大学和牛津大学，以及美国和中国的多个机构的科学家组成了一67个国际团队，他们使用移动电话通话详细记录对人口流动情况做了评估。尼泊尔人持有手机的比例很高，利用1200万用户的匿名数据，弗洛明德团队能够跟踪地震发生九天内人口的流动情况。这种快速反应部分是由于跟尼泊尔主要服务提供商有约在先，碰巧的是，合作细节在灾难发生前一周刚刚完成。提供商的数据中心拥有硬驱达20Tb的专用服务器，这使得团队能够立即开展工作，从而能在短时间内让灾难救援机构获取地震发生九天内的信息。

大数据与智能医学

只要病人去医生办公室或是医院，相关电子数据按照惯例都要被收集。电子健康病历成为病人保健联络的法定文件：病人的病史、处方用药、检验结果均记录在案。电子病历还可能包括诸如核磁共振扫描等传感数据。数据匿名入库，供研究之用。据估计，在美国，普通医院平均存储超过600Tb的数据，其中大部分为非结构化数据。如何挖掘这一数据以提供改进病人护理和减少成本呢？简单地说，我们将数据拿来，包括结构化和非结构化的，确定与病人相关的特征，运用诸如分类和回归等统计技术将结果建模。病人数据主要是非结构化文本格式，要有效进行分析需要使用如IBM公司的“沃森”人工智能所使用的那种自然语言加工技术。这将在下一节讨论。

据IBM公司预计，到2020年，医学数据每七十三天会翻一68番。可穿戴设备被越来越多地用以监测健康个体，广泛使用于计算我们每天行走的步数，测量和平衡我们需要多少卡路里，跟踪我们的睡眠模式，以及给出我们心率和血压的即时信息等。获得的这些信息，可被上传到我们的个人电脑。记录由我们私下保存，或者——有时会有这种情况——自愿与雇主共享。这种关于个体的真实的数据级联，为医疗保健专业人士提供了有价值的公共卫生数据，并提供了一种识别个体变化的方法，这些变化可能对避免诸如心脏疾病等的突发有所裨益。与人群相关的数据，有助于医生根据患者的特征来跟踪监测特定治疗方案的副作用。

2003年，人类基因组计划完成之后，基因数据会逐渐成为我们个人医疗记录的重要组成部分，它本身也为研究提供了海量数据。人类基因组计划的目的是绘制人类基因图谱。总的来说，有机体的基因信息被称为基因组。典型的人类基因组包含大约两万组基因，绘制这样一个基因组需要大约100Gb的数据。绘制基因图谱是一个高度复杂、高度专业和多元化的领域，但运用大数据分析法的意义令人神往。收集到的基因信息存储在庞大的数据库中，近来一直有人担心这些数据会遭到黑客攻击，并将捐献DNA的病人查找出来。有人建议，为安全起见，应该往数据库中添加虚假信息，当然虚假数据的量应控制在一定范围之内，以防数据库变得对医学研究毫无价值。由于需要管理和分析基因组学产生的大数据，生物信息学这一跨学科领域应运而生。近年来，基因测序速度越来越快，成本越来越低，绘制个人基因组图谱现在已切实可行。算上十五年的研究成本，第一个人类基因组测序花费将近300万美元。而现在，很多公司能以69合理的价格给个人提供基因组测序服务。

诞生于人类基因组计划的虚拟生理人类（VPH）计划，使用实际病人的庞大数据库来建立一套计算机仿真模型，让临床医生模拟看病治疗，找出特定病人的最佳治疗方案。将这些方案与类似症状及其他相关医疗细节进行比较，计算机模型可以预测出一个病人治疗的可能结果。进一步运用数据挖掘技术并结合计算机仿真，可找到个性化治疗方案。因此，诸如核磁共振这样的检查结果，可能会集成到仿真系统当中。未来的数字病人会包含真实病人的所有信息，并根据智能设备数据予以更新。不过，数据安全越来越成为该计划不得不面对的重要挑战。

医学中的沃森

2007年，IBM公司决定建造一台计算机，用来挑战美国电视游戏节目《危险边缘》中的顶级竞赛选手。以IBM公司的创始人托马斯·J.沃森名字命名的大数据分析系统应运而生。与之对垒的是两位《危险边缘》节目昔日的冠军：一位是布拉德·鲁特，74次参赛连胜；另一位是肯·詹宁斯，总共赢取了让人震惊的325万美元奖金。《危险边缘》是一档智力竞赛节目，节目主持人给出“答案”，而参赛选手要猜出“问题”。参赛选手有三位，答案或线索出自多种类别，如科学、体育和世界历史等，也包括不太规范、有些奇怪的类别，诸如“之前和之后”。举个例子，对于线索“他葬在汉普郡教堂的墓地，墓碑上写着‘骑士、爱国者、医生和文人；1859年5月22日—1930年7月7日’”，正确答案是：“阿瑟·柯南·道尔爵士是谁？”有个比较边缘的类别叫70“抓住这些人”，对于“通缉犯，波士顿人，犯有19次谋杀，1995年潜逃，最后于2011年在圣莫妮卡海滩被抓获”这条线索，正确答案是：“白佬·巴尔杰是谁？”线索以文本格式发送给沃森，竞赛中略去音视频线索。

在人工智能领域，自然语言处理（NLP）被公认为是对计算机科学的巨大挑战，它对于沃森的发展最为重要。信息必须可访问、可检索，这在机器学习中是个难题。研究团队按照词汇应答类型（LAT）从分析《危险边缘》线索入手，将线索中确定的答案分类。在上面的第二个例子中，词汇应答类型是“这位波士顿人”。第一个例子中没有词汇应答类型，无法对代词“it”进行归类。IBM团队分析了两万条线索，找出了2500个特有的词汇应答类型，但它们也只覆盖了大约一半的线索。接下来，解析线索以确定关键词以及它们之间的关系。再对电脑里相关的结构化和非结构化数据进行检索，然后基于初步分析提出假设，最后通过寻找更深层的证据，提出可能的答案。

要赢得《危险边缘》游戏，快速而先进的自然语言处理技术、机器学习、统计分析至关重要。其他要考虑的因素包括准确性和类别的选择。运用以往获胜者的数据，计算出合格表现的基准。几次尝试过后，整合了很多人工智能技术的深度问答分析给出答案。这一系统使用了多台计算机进行平行运算，但不连接互联网；它的计算基于概率和专家提供的知识。除了生成答案，沃森运用置信度评分算法凸显最佳结果。只有达到置信度阈值时，沃森才准备显示它已得出的答案，相当于参赛选手按响抢答铃。沃森战胜了两位《危险边缘》的冠军。詹宁斯71坦然接受失败，用他本人的话说：“我本人欢迎我们的计算机新霸主。”

以《危险边缘》的人工智能为基础，沃森医疗系统得以成功开发，它可以检索和分析结构化和非结构化数据。由于建立了自己的知识库，该系统本质上如同对特定领域人类思想过程的模拟。医学诊断是基于现有医学知识的，它依靠证据，要求输入的信息准确无误并包含全部相关信息，且具有一致性。人类医生拥有经验但会犯错误，诊断水平良莠不齐。沃森医疗系统的诊断过程与《危险边缘》中的人工智能相似，在通盘考虑全部相关信息后给出判断，每个判断都附有置信度等级。沃森内置的人工智能技术使它能够加工大数据，包括医学影像生成的海量数据。

现在，沃森超级计算机已经发展为多应用系统，亦是巨大的商业成功。另外，沃森已应用在人道主义工作中，例如通过特别研发的开源分析系统，帮助跟踪埃博拉在塞拉利昂的扩散情况。

医疗大数据的隐私问题

大数据显然具有预测疾病流行和定制个性化医疗方案的作用，但是，硬币的另一面——个人医疗数据的隐私又当如何应对呢？尤其是在当下，随着越来越多地使用可穿戴设备和智能手机应用，问题就产生了：数据归谁所有？该存储在哪里？谁可以接触和使用数据？面对网络攻击，安全如何保障？还有大量道德和法律问题都悬而未决。

健康跟踪器数据或许会让雇主得到，并用来做以下事情：好72的方面，例如给达到某些指标的员工发奖金；不好的方面，确定哪些员工未能达标，兴许还会招致辞退。2016年9月，德国达姆施塔特工业大学和意大利帕多瓦大学的科学家合作研究团队，发布了他们对健康跟踪器数据安全的研究报告。让人震惊的是，在测试的17种不同厂家生产的健康跟踪器中，在防止数据被更改方面没有一家是安全可靠的。在保护数据准确性方面，仅有四家采取了措施，但这些保护措施都被该团队成功瓦解。

2016年9月里约奥运会之后，国家兴奋剂计划被曝光，多数俄罗斯运动员被禁赛。顶尖运动员，包括威廉姆斯姐妹、西蒙·拜尔斯和克里斯·弗鲁姆等人的医疗记录遭到黑客攻击，并被一群俄罗斯网络黑客在奇幻熊网站公开曝光。这些由世界反兴奋剂机构掌管在其数据管理系统ADAMS上的相关医疗记录，仅仅显示医疗用途豁免，并没有关于这些遭到网络中伤运动员的违禁行为。非法侵入系统可能源自鱼叉式网络钓鱼邮件，利用该技术，邮件被伪装成来自机构内部的高级可信源，如健康保健提供者，发给下级的信件。通过下载的恶意软件，该技术被用来非法获取诸如密码和账号等敏感信息。

防止大数据医疗数据库遭受网络攻击，进而确保病人的隐私越来越受到重视。匿名个人的医疗数据买卖是合法的，但即便如此，有时单个病人的真实身份还是有可能被发现。哈佛大学数据隐私实验室的科学家拉坦娅·斯威妮和刘吉素做了一个有价值的实验，显示了安全数据的脆弱性。他们运用合法获取的来自韩国的加密（即打乱排列顺序而使文件难以识读，见第七73章）医疗数据，不仅能够解密医疗记录中的独特标识符，而且通过与公开的医疗记录进行比对就可以确定单个病人的身份。

医疗记录对网络罪犯极具价值。2015年，健康保险公司安森保险声称其数据库被非法侵入，超过7000万人受到影响。分众识别的关键数据，如姓名、地址以及社会保障号码等被黑客组织攻破。他们运用被盗密码进入系统并安装恶意木马软件。尤为严重的是，在美国作为唯一身份证明的社会保障号码是不加密的，这给盗取身份留有极大便利。很多安全漏洞都是从人为错误开始的：人们太忙，注意不到网址中的细微差别。闪存盘等设备丢失、被盗，有时甚至一旦某个毫无戒心的员工将设备插入USB端口，设备瞬间就被蓄意植入恶意软件。心怀不满的员工和犯错的员工，都会导致不计其数的数据泄露。

世界知名机构，诸如美国的梅奥医学中心和约翰·霍普金斯医学院，英国的国民医疗服务系统（NHS），以及法国的克莱蒙费朗大学医院，都在加速将大数据这种全新的利好运用到医疗保健管理中。云系统让受权用户得以使用世界任何地方的数据。仅举一个例子，英国的国民医疗服务系统计划到2018年的时候，让医疗记录可以通过智能手机悉数获取。这些发展不可避免地会令他们使用的数据招来更多的攻击，因此需要加倍努74力，开发出有效的安全方法以确保数据安全。